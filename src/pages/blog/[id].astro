---
import Layout from '../../layouts/Layout.astro';
import CleanHeader from '../../components/CleanHeader.astro';
import CleanFooter from '../../components/CleanFooter.astro';
import blogPosts from '../../data/blogPosts.json';

export async function getStaticPaths() {
  return blogPosts.posts.map((post, index) => ({
    params: { id: post.id },
    props: { 
      post: {
        ...post,
        publishDate: [
          '2024-03-15', '2024-02-28', '2024-02-14', '2024-01-30', '2024-01-18',
          '2024-01-05', '2023-12-20', '2023-12-08', '2023-11-25', '2023-11-12',
          '2023-10-28', '2023-10-15', '2023-09-30', '2023-09-18', '2023-09-05'
        ][index % 15],
        headerImage: `/images/blog/header-${(index % 6) + 1}.jpg`
      }
    }
  }));
}

const { post } = Astro.props;

// Generate clean, professional blog content following AIchatwindow format
const generateFullContent = (post) => {
  const categoryLower = post.category.toLowerCase();
  
  return `
    <div class="article-intro">
      <p class="lead-text">${post.excerpt}</p>
    </div>

    <h2>Understanding ${post.category} Medical Terminology</h2>
    <p>Medical terminology in ${categoryLower} forms the foundation of healthcare communication. Whether you're a student, healthcare professional, or someone interested in medical language, mastering these terms is essential for effective communication and professional success.</p>

    <p>This comprehensive guide covers everything you need to know about ${categoryLower} terminology, from basic concepts to advanced applications in clinical practice.</p>

    <h2>Why ${post.category} Terminology Matters</h2>
    <p>Understanding ${categoryLower} terminology is crucial for several reasons:</p>
    <ul>
      <li><strong>Professional Communication:</strong> Enables clear, precise communication with healthcare colleagues</li>
      <li><strong>Patient Safety:</strong> Reduces miscommunication that could impact patient care</li>
      <li><strong>Career Advancement:</strong> Demonstrates expertise and professional competency</li>
      <li><strong>Documentation Accuracy:</strong> Ensures legal and clinical documentation meets standards</li>
    </ul>

    <h2>Core Terminology Categories</h2>
    <p>Medical terminology in ${categoryLower} can be organized into several key categories:</p>

    <h3>Anatomical Terms</h3>
    <p>These terms describe body structures, organs, and systems specific to ${categoryLower}. Understanding anatomical terminology provides the foundation for all other medical language.</p>

    <h3>Pathological Terms</h3>
    <p>Terminology describing diseases, disorders, and abnormal conditions. These terms are essential for understanding diagnoses and treatment planning.</p>

    <h3>Diagnostic Terms</h3>
    <p>Language used in medical testing, examination procedures, and diagnostic imaging. These terms help healthcare professionals communicate about patient assessment and evaluation.</p>

    <h3>Therapeutic Terms</h3>
    <p>Vocabulary describing treatments, interventions, and therapeutic procedures. Essential for understanding treatment plans and patient care protocols.</p>

    <h2>Learning Strategies</h2>
    <p>Effective mastery of ${categoryLower} terminology requires strategic approaches:</p>

    <h3>Etymology-Based Learning</h3>
    <p>Many medical terms derive from Greek and Latin origins. Understanding word roots, prefixes, and suffixes helps decode complex terminology:</p>
    <ul>
      <li><strong>Prefixes:</strong> Word beginnings that modify meaning (hyper-, hypo-, pre-, post-)</li>
      <li><strong>Root Words:</strong> Core meanings forming the foundation of terms</li>
      <li><strong>Suffixes:</strong> Word endings specifying conditions, procedures, or states</li>
    </ul>

    <h3>Spaced Repetition</h3>
    <p>Scientific research shows that spaced repetition is the most effective method for long-term retention of medical terminology. This involves reviewing terms at increasing intervals to strengthen memory.</p>

    <h3>Visual Learning</h3>
    <p>Connecting medical terms to anatomical diagrams, medical illustrations, and clinical images enhances understanding and retention.</p>

    <h2>Clinical Applications</h2>
    <p>Understanding how to apply ${categoryLower} terminology in clinical settings is essential for professional practice:</p>

    <h3>Healthcare Documentation</h3>
    <p>Accurate medical documentation forms the legal and clinical foundation of patient care. Precise terminology ensures compliance with healthcare regulations and standards.</p>

    <h3>Interdisciplinary Communication</h3>
    <p>Medical terminology serves as a universal language among healthcare professionals, enabling clear communication between different specialties and departments.</p>

    <h3>Patient Education</h3>
    <p>While technical terminology is essential for professional communication, healthcare providers must also translate complex terms for patient understanding while maintaining accuracy.</p>

    <h2>Study Tools and Resources</h2>
    <p>Modern learning platforms offer powerful tools for mastering medical terminology:</p>
    <ul>
      <li><strong>Interactive Flashcards:</strong> Digital platforms with adaptive algorithms and progress tracking</li>
      <li><strong>Mobile Applications:</strong> Study opportunities during commutes and brief intervals</li>
      <li><strong>Online Quizzes:</strong> Regular assessments to measure progress and retention</li>
      <li><strong>Virtual Reality:</strong> Immersive learning experiences with 3D anatomical models</li>
    </ul>

    <h2>Professional Development</h2>
    <p>Strong terminology skills contribute significantly to career advancement in healthcare:</p>
    <ul>
      <li>Enhanced credibility with colleagues and supervisors</li>
      <li>Improved performance in certification exams</li>
      <li>Greater confidence in clinical communication</li>
      <li>Expanded opportunities for specialization</li>
    </ul>

    <h2>Staying Current</h2>
    <p>Medical terminology continues to evolve with advances in healthcare. Stay updated through:</p>
    <ul>
      <li><strong>Professional Publications:</strong> Medical journals and terminology updates</li>
      <li><strong>Continuing Education:</strong> Workshops and courses in medical terminology</li>
      <li><strong>Professional Organizations:</strong> Associations focused on medical education and standards</li>
      <li><strong>Technology Integration:</strong> New tools and platforms for terminology learning</li>
    </ul>

    <h2>Key Takeaways</h2>
    <p>Mastering ${categoryLower} medical terminology requires dedication, systematic study, and consistent practice. The investment in developing these skills benefits your entire healthcare career by:</p>
    <ul>
      <li>Improving professional communication and documentation</li>
      <li>Enhancing patient care and safety</li>
      <li>Building career advancement opportunities</li>
      <li>Strengthening professional confidence and competence</li>
    </ul>

    <p>Use our interactive study tools and practice regularly to build lasting expertise in medical terminology. Start your learning journey today and experience the difference that strong terminology skills make in your healthcare career.</p>
  `;
};

// SEO Schema data for blog post
const schemaData = {
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": post.title,
  "description": post.excerpt,
  "image": `https://medicalterminologyhub.netlify.app${post.headerImage}`,
  "datePublished": post.publishDate,
  "dateModified": post.publishDate,
  "author": {
    "@type": "Organization",
    "name": "Medical Terminology Hub"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Medical Terminology Hub",
    "url": "https://medicalterminologyhub.netlify.app/"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": `https://medicalterminologyhub.netlify.app/blog/${post.id}`
  },
  "articleSection": post.category,
  "keywords": post.tags,
  "wordCount": 400,
  "articleBody": post.excerpt
};
---

<Layout 
  title={`${post.title} - Medical Terminology Hub Blog`}
  description={post.excerpt}
>
  <CleanHeader />
  
  <!-- JSON-LD Schema -->
  <script type="application/ld+json" set:html={JSON.stringify(schemaData)}></script>
  
  <main class="blog-post-main">
    
    <!-- Breadcrumb Navigation -->
    <nav class="breadcrumb" aria-label="Breadcrumb">
      <div class="container">
        <ol itemscope itemtype="https://schema.org/BreadcrumbList">
          <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/">
              <span itemprop="name">Home</span>
            </a>
            <meta itemprop="position" content="1" />
          </li>
          <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a itemprop="item" href="/blog">
              <span itemprop="name">Blog</span>
            </a>
            <meta itemprop="position" content="2" />
          </li>
          <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <span itemprop="name">{post.title}</span>
            <meta itemprop="position" content="3" />
          </li>
        </ol>
      </div>
    </nav>

    <!-- Blog Post Content -->
    <article class="blog-post" itemscope itemtype="https://schema.org/BlogPosting">
      <div class="container">
        
        <!-- Post Header -->
        <header class="post-header">
          <div class="post-meta">
            <span class="category">{post.category}</span>
            <time class="publish-date" itemprop="datePublished" datetime={post.publishDate}>
              {new Date(post.publishDate).toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
              })}
            </time>
            <span class="read-time">{post.readTime}</span>
          </div>
          
          <h1 class="post-title" itemprop="headline">{post.title}</h1>
          
          <div class="post-tags">
            {post.tags.map(tag => (
              <span class="tag" itemprop="keywords">{tag}</span>
            ))}
          </div>
        </header>

        <!-- Featured Image -->
        <div class="post-image">
          <img 
            src={post.headerImage} 
            alt={post.title}
            itemprop="image"
            onerror="this.src='/images/blog/default.svg'"
          />
        </div>

        <!-- Post Content -->
        <div class="post-content" itemprop="articleBody">
          <Fragment set:html={generateFullContent(post)} />
        </div>

        <!-- Related Resources -->
        <aside class="related-resources">
          <h2>Continue Learning</h2>
          <div class="resources-grid">
            <a href="/" class="resource-card">
              <h3>Interactive Flashcards</h3>
              <p>Practice with our spaced repetition system</p>
            </a>
            <a href="/tests/comprehensive" class="resource-card">
              <h3>Take a Quiz</h3>
              <p>Test your knowledge with 100 questions</p>
            </a>
            <a href="/blog" class="resource-card">
              <h3>More Articles</h3>
              <p>Explore other medical terminology guides</p>
            </a>
          </div>
        </aside>

      </div>
    </article>
  </main>

  <CleanFooter />
</Layout>

<style>
  /* Reset and Base Styles */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  .blog-post-main {
    background: #ffffff;
    min-height: calc(100vh - 140px);
  }

  .container {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 20px;
  }

  /* Breadcrumb */
  .breadcrumb {
    background: #f8f9fa;
    border-bottom: 1px solid #e9ecef;
    padding: 16px 0;
  }

  .breadcrumb ol {
    display: flex;
    align-items: center;
    gap: 8px;
    list-style: none;
    font-size: 0.875rem;
  }

  .breadcrumb li:not(:last-child)::after {
    content: '/';
    margin-left: 8px;
    color: #6c757d;
  }

  .breadcrumb a {
    color: #0d6efd;
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .breadcrumb a:hover {
    color: #0a58ca;
    text-decoration: underline;
  }

  .breadcrumb span {
    color: #6c757d;
  }

  /* Blog Post */
  .blog-post {
    padding: 60px 0;
  }

  /* Post Header */
  .post-header {
    margin-bottom: 40px;
    text-align: center;
  }

  .post-meta {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 16px;
    margin-bottom: 24px;
    font-size: 0.875rem;
    color: #6c757d;
    flex-wrap: wrap;
  }

  .category {
    background: #212529;
    color: white;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .publish-date {
    font-weight: 500;
    color: #495057;
  }

  .read-time {
    color: #adb5bd;
  }

  .post-title {
    font-size: 2.5rem;
    font-weight: 700;
    color: #212529;
    margin-bottom: 24px;
    line-height: 1.2;
  }

  .post-tags {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
  }

  .tag {
    background: #f8f9fa;
    color: #495057;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 500;
    border: 1px solid #e9ecef;
  }

  /* Post Image */
  .post-image {
    margin-bottom: 40px;
    border-radius: 8px;
    overflow: hidden;
    background: #f8f9fa;
  }

  .post-image img {
    width: 100%;
    height: 300px;
    object-fit: cover;
  }

  /* Post Content - Clean AIchatwindow Style */
  .post-content {
    line-height: 1.8;
    color: #333;
    margin-bottom: 60px;
    font-size: 16px;
  }

  /* Article Intro */
  .article-intro {
    margin-bottom: 32px;
    padding-bottom: 24px;
    border-bottom: 1px solid #eee;
  }

  .lead-text {
    font-size: 1.2rem;
    font-weight: 400;
    color: #555;
    line-height: 1.6;
    margin: 0;
    font-style: italic;
  }

  /* Clean Typography */
  .post-content h2 {
    font-size: 1.75rem;
    font-weight: 600;
    color: #222;
    margin: 40px 0 20px 0;
    line-height: 1.3;
  }

  .post-content h3 {
    font-size: 1.375rem;
    font-weight: 600;
    color: #333;
    margin: 32px 0 16px 0;
    line-height: 1.4;
  }

  .post-content h4 {
    font-size: 1.125rem;
    font-weight: 600;
    color: #444;
    margin: 24px 0 12px 0;
    line-height: 1.4;
  }

  .post-content p {
    margin-bottom: 18px;
    font-size: 16px;
    line-height: 1.8;
    color: #333;
  }

  .post-content ul,
  .post-content ol {
    margin: 18px 0;
    padding-left: 20px;
  }

  .post-content li {
    margin-bottom: 8px;
    font-size: 16px;
    line-height: 1.7;
    color: #333;
  }

  .post-content strong {
    font-weight: 600;
    color: #222;
  }

  .post-content em {
    font-style: italic;
    color: #555;
  }

  /* Clean link styling */
  .post-content a {
    color: #0066cc;
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color 0.2s ease;
  }

  .post-content a:hover {
    border-bottom-color: #0066cc;
  }

  /* Clean list styling */
  .post-content ul li::marker {
    color: #666;
  }

  .post-content ol li::marker {
    color: #666;
    font-weight: 500;
  }

  /* Related Resources */
  .related-resources {
    border-top: 1px solid #e9ecef;
    padding-top: 40px;
  }

  .related-resources h2 {
    font-size: 1.5rem;
    font-weight: 600;
    color: #212529;
    margin-bottom: 24px;
    text-align: center;
  }

  .resources-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
  }

  .resource-card {
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    padding: 24px 20px;
    text-align: center;
    text-decoration: none;
    color: inherit;
    transition: all 0.2s ease;
  }

  .resource-card:hover {
    background: #e9ecef;
    transform: translateY(-2px);
    color: inherit;
    text-decoration: none;
  }

  .resource-card h3 {
    font-size: 1rem;
    font-weight: 600;
    color: #212529;
    margin-bottom: 8px;
  }

  .resource-card p {
    color: #6c757d;
    font-size: 0.875rem;
    line-height: 1.4;
  }

  /* Mobile Responsive Design */
  @media (max-width: 768px) {
    .container {
      padding: 0 16px;
    }

    .breadcrumb {
      padding: 12px 0;
    }

    .breadcrumb ol {
      font-size: 0.8125rem;
    }

    .blog-post {
      padding: 32px 0;
    }

    .post-header {
      margin-bottom: 32px;
      text-align: left;
    }

    .post-title {
      font-size: 1.875rem;
      line-height: 1.2;
      text-align: left;
    }

    .post-meta {
      justify-content: flex-start;
      flex-wrap: wrap;
      gap: 12px;
      margin-bottom: 20px;
    }

    .post-tags {
      justify-content: flex-start;
    }

    .post-image {
      margin-bottom: 32px;
    }

    .post-image img {
      height: 220px;
    }

    .post-content {
      margin-bottom: 48px;
    }

    /* Mobile Content Sections */
    .article-intro {
      margin-bottom: 24px;
      padding-bottom: 20px;
    }

    .lead-text {
      font-size: 1.125rem;
      line-height: 1.5;
    }

    /* Mobile Typography */
    .post-content p {
      font-size: 15px;
      line-height: 1.7;
      margin-bottom: 16px;
    }

    .post-content h2 {
      font-size: 1.5rem;
      margin: 32px 0 16px 0;
    }

    .post-content h3 {
      font-size: 1.25rem;
      margin: 24px 0 12px 0;
    }

    .post-content h4 {
      font-size: 1.125rem;
      margin: 20px 0 10px 0;
    }

    .post-content ul,
    .post-content ol {
      padding-left: 18px;
      margin: 16px 0;
    }

    .post-content li {
      font-size: 15px;
      margin-bottom: 6px;
      line-height: 1.6;
    }

    .related-resources {
      padding-top: 32px;
    }

    .resources-grid {
      grid-template-columns: 1fr;
      gap: 16px;
    }

    .resource-card {
      padding: 20px 16px;
    }
  }

  @media (max-width: 480px) {
    .container {
      padding: 0 12px;
    }

    .post-title {
      font-size: 1.625rem;
      line-height: 1.3;
    }

    .post-meta {
      gap: 8px;
    }

    .category {
      font-size: 0.6875rem;
      padding: 3px 8px;
    }

    .post-image img {
      height: 180px;
    }

    .post-content p {
      font-size: 0.9375rem;
      line-height: 1.6;
    }

    .post-content h2 {
      font-size: 1.375rem;
      margin: 32px 0 16px 0;
    }

    .post-content h3 {
      font-size: 1.125rem;
      margin: 24px 0 12px 0;
    }

    .post-content li {
      font-size: 0.9375rem;
    }

    .resource-card {
      padding: 16px 12px;
    }

    .resource-card h3 {
      font-size: 0.9375rem;
    }

    .resource-card p {
      font-size: 0.8125rem;
    }
  }

  /* Clean styling with no color bleeding */
  .blog-post,
  .blog-post * {
    background-clip: padding-box;
  }

  .resource-card {
    isolation: isolate;
  }
</style>

<script>
  // Simple interactions for blog post
  document.addEventListener('DOMContentLoaded', () => {
    // Smooth scroll for internal links
    document.querySelectorAll('a[href^="#"]').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const target = document.querySelector(link.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth' });
        }
      });
    });

    // Add reading progress indicator
    const progressBar = document.createElement('div');
    progressBar.className = 'reading-progress';
    progressBar.style.cssText = `
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 3px;
      background: #0d6efd;
      z-index: 1001;
      transition: width 0.2s ease;
    `;
    document.body.appendChild(progressBar);

    // Update progress on scroll
    window.addEventListener('scroll', () => {
      const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
      const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const scrolled = (winScroll / height) * 100;
      progressBar.style.width = scrolled + '%';
    });
  });
</script>