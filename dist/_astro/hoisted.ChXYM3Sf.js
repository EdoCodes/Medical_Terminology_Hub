import"./Layout.astro_astro_type_script_index_0_lang.C5a_LS-D.js";import"./Footer.astro_astro_type_script_index_0_lang.BOWb_A6l.js";function $(){const t=document.getElementById("flashcardsSection");t&&t.scrollIntoView({behavior:"smooth",block:"start"})}window.scrollToFlashcards=$;function B(){const t=document.getElementById("enhancedSearchInput"),a=document.getElementById("clearEnhancedSearch"),o=document.getElementById("searchSuggestions"),g=document.getElementById("suggestionsList"),l=document.getElementById("searchResults"),r=document.getElementById("resultsList"),y=document.getElementById("resultsCount"),d=document.getElementById("noResults"),E=document.getElementById("closeResults"),v=document.getElementById("lastSearchTime");let u="all",p;const w=["hypertension","pneumonia","myocardial infarction","asthma","stroke","arthritis","diabetes","melanoma","fracture","gastritis"];document.querySelectorAll(".filter-btn[data-difficulty]").forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll(".filter-btn[data-difficulty]").forEach(s=>s.classList.remove("filter-btn-active")),e.classList.add("filter-btn-active"),u=e.getAttribute("data-difficulty")||"all",t.value.trim()&&c()})}),document.querySelectorAll(".filter-btn[data-search-type]").forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll(".filter-btn[data-search-type]").forEach(s=>s.classList.remove("filter-btn-active")),e.classList.add("filter-btn-active"),e.getAttribute("data-search-type"),t.value.trim()&&c()})}),t.addEventListener("input",()=>{const e=t.value.trim();a.classList.toggle("hidden",!e),clearTimeout(p),e.length>0?(L(),p=window.setTimeout(c,300)):(i(),n())}),t.addEventListener("focus",()=>{t.value.length>0&&L()}),a?.addEventListener("click",()=>{t.value="",a.classList.add("hidden"),i(),n(),t.focus()}),E?.addEventListener("click",n),document.addEventListener("click",e=>{(!e.target||!e.target.closest(".search-input-container"))&&i()});function L(){g&&o&&(g.innerHTML=w.filter(e=>e.toLowerCase().includes(t.value.toLowerCase())).slice(0,5).map(e=>`
            <div class="suggestion-item" onclick="selectSuggestion('${e}')">
              ${f(e,t.value)}
            </div>
          `).join(""),o.classList.remove("hidden"))}function i(){o?.classList.add("hidden")}function n(){l?.classList.add("hidden")}function f(e,s){if(!s)return e;const m=new RegExp(`(${s})`,"gi");return e.replace(m,'<mark style="background: #fef3c7; padding: 2px 4px; border-radius: 4px;">$1</mark>')}function c(){const e=performance.now(),s=t.value.trim().toLowerCase();setTimeout(()=>{const m=performance.now(),S=Math.round(m-e);v&&(v.textContent=`${S}ms`);const b=[{term:"Hypertension",definition:"High blood pressure, defined as systolic pressure ≥140 mmHg or diastolic pressure ≥90 mmHg",category:"cardiovascular",difficulty:"basic"},{term:"Myocardial Infarction",definition:"Death of heart muscle tissue due to lack of blood supply, commonly known as a heart attack",category:"cardiovascular",difficulty:"intermediate"}].filter(h=>{const I=h.term.toLowerCase().includes(s)||h.definition.toLowerCase().includes(s),T=u==="all"||h.difficulty===u;return I&&T});k(b),i()},100)}function k(e){!l||!r||!y||!d||(y.textContent=`${e.length} result${e.length!==1?"s":""} found`,e.length===0?(r.innerHTML="",d.classList.remove("hidden")):(d.classList.add("hidden"),r.innerHTML=e.map(s=>`
          <div class="result-item" onclick="selectResult('${s.term}')">
            <div class="result-term">${f(s.term,t.value)}</div>
            <div class="result-definition">${f(s.definition,t.value)}</div>
            <div class="result-meta">
              <span class="result-category">${s.category}</span>
              <span class="result-difficulty difficulty-${s.difficulty}">${s.difficulty}</span>
            </div>
          </div>
        `).join("")),l.classList.remove("hidden"))}window.selectSuggestion=function(e){t.value=e,i(),c()},window.selectResult=function(e){console.log("Selected result:",e),n()},document.addEventListener("keydown",e=>{e.key==="/"&&e.target!==t&&(e.preventDefault(),t.focus()),e.key==="Escape"&&(i(),n(),t.blur())})}document.addEventListener("DOMContentLoaded",B);
